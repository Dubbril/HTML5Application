<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>jQuery UI: Progressbar</title>
<style>
	#pb {
		height: 15px !important;
		width: 150px !important;
		display: inline-block;
	}
</style>
<link href="../jquery-ui-1.10.3.custom.min.css" rel="stylesheet">
<script src="../jquery-2.0.0.min.js"> </script>
<script src="../jquery-ui-1.10.3.custom.min.js"> </script>
<script>
var interval;
var x = 0;		//เก็บค่าของ Progressbar ในขณะนั้น

$(function(){
	$('#pb').progressbar();
	$('button').button();
	
	$('button').click(function(){
		interval = setInterval(download, 150);
		$(this).button('disable');
	});
});

function download(){
	//ถ้าครบ 100% ให้ยกเลิกการจับเวลา และเซตสถานะให้เริ่มใหม่ได้
	if(x > 100){
		clearInterval(interval);
		$('button').button('enable');
		$('#value').text("Download Complete");
		x = 0;
		return;
	}
	
	$('#pb').progressbar({ value: x });
	$('#value').text(x + '%');
	
	x++;
}
</script>
</head>

<body>
	<div id="pb"></div>
	<span id="value"></span>	<br>
	<button type="button">Download</button>
</body>
</html>
